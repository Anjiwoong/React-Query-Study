# section 02

- QueryClient를 생성해서 QueryProvider에 추가한다
  - 모든 자식 컴포넌트가 캐시와 훅을 사용할 수 있게 된다.
- useQuery 훅을 실행해서 데이터를 서버에서 가져오고 최신 상태인지 확인 할 수 있다.
  - 반환 객체에는 isLoading, isFetching, Error가 있는데 특정 쿼리의 상태를 사용자에게 알려줄때 사용한다.
- staleTime은 윈도우가 다시 포커스될 때 같은 특정 트리거에서 쿼리 데이터를 다시 가져올지를 결정한다.

  - 즉, staleTime은 데이터가 사용 가능한 상태로 유지되는 시간
  - 서버로 돌아가 데이터가 여전히 정확한지 확인해야 하는 시점까지

- cacheTime은 데이터가 비활성화된 이후 남아 있는 시간을 말한다.
  - 캐시된 데이터는 쿼리를 다시 실행했을 때 사용된다.
  - 데이터가 최신 상태인지 서버에서 확인하는 동안 자리 표시자로 사용자에게 보여지게 된다.

쿼리 키가 변경 됐을 때 useQuery hook은 쿼리를 반복한다.
그래서 데이터 함수가 바뀌면 쿼리 키도 바뀌게 된다. 데이터를 변경해야 하는 경우 다시 실행할 수 있도록
